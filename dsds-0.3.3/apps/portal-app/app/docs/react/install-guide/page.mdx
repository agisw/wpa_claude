import { Callout } from "@docs/helpers"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@dsds/react-radix-ui"

# 설치 방법

## 사전 준비

- Node.js v20 이상을 설치하세요.
- `pnpm` 을 설치하시면 더 쾌적하게 개발이 가능합니다.


### `pnpm` 설치하기

`npm`에 비해 [저장공간을 매우 적게 사용하며 성능이 5배 이상 빠른](https://pnpm.io/ko/motivation) `pnpm` 을 추천합니다.

```bash
corepack use pnpm
```

<Callout kind="warning">
  사내에서 SSL 이슈로 `corepack use` 명령이 동작하지 않을 경우 다음 방법으로 설치하세요.

  ```bash
  npm install -g pnpm
  ```
</Callout>


### `@dsds` 레포지터리 등록하기

다음 명령을 실행해서 `@dsds` 레지스트리를 추가해주세요.

```bash
npm config set @dsds:registry https://npm.mwebdev.samsungds.net/
npm config set noproxy repo.samsungds.net,artifact.samsungds.net,npm.mwebdev.samsungds.net
npm config set strict-ssl false
```

## 패키지 설치 및 셋업하기


<Tabs defaultValue="new-project">
  <TabsList>
    <TabsTrigger value="new-project">새 프로젝트 생성하기</TabsTrigger>
    <TabsTrigger value="edit-project">기존 프로젝트에 추가하기</TabsTrigger>
  </TabsList>

  <TabsContent value="new-project">
    ```bash
    pnpm create @dsds my-app
    ```

    위 명령을 실행하면, `my-app` 디렉터리에 DSDS 기반의 Vite React 프로젝트가 생성됩니다.

    이 명령은 `my-app` 디렉터리를 생성하고, 필요한 의존성을 설치하며, 기본적인 파일 구조를 설정합니다.

    **참고: 추가되는 의존성**

    - `@dsds/react-radix-ui`: DSDS 컴포넌트 라이브러리
    - `@dsds/fonts`: DSDS 폰트 패키지
    - `tailwindcss`: CSS 프레임워크
  </TabsContent>

  <TabsContent value="edit-project">
    **1. `@dsds/react-radix-ui` 패키치 설치하기**

    ```bash
    pnpm add @dsds/react-radix-ui @dsds/fonts
    ```

    **2. tailwincsss 설치하기 (추천 선택사항)**

    [tailwindcss 공식가이드](https://tailwindcss.com/docs/installation/using-vite)를 참고하여 tailwindcss를 셋업합니다.

    ```bash
    pnpm add tailwindcss @tailwindcss/vite
    ```

    **3. `vite.config.ts` 수정**
    ```ts
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'
    import tailwindcss from '@tailwindcss/vite'

    // https://vite.dev/config/
    export default defineConfig({
      plugins: [react(), tailwindcss()],
    })
    ```

    **4. `src/index.css` 수정하기**

    기존 내용을 전부 삭제 후 다음 코드를 추가합니다.

    ```css
    @import "tailwindcss";
    @import "@dsds/fonts";
    @import "@dsds/react-radix-ui/styles.css";
    ```
  </TabsContent>
</Tabs>

## 개발 서버 실행하기

다음 명령을 실행하여 개발 서버를 시작할 수 있습니다.

```bash
pnpm dev
```

`App.tsx` 내용을 다음 예제처럼 수정해보세요.



<Tabs defaultValue="button">
  <TabsList>
    <TabsTrigger value="button">버튼</TabsTrigger>
    <TabsTrigger value="basic-layout">기본 레이아웃 (Header + LNB)</TabsTrigger>
  </TabsList>

  <TabsContent value="button">
    ```tsx
    import { useState } from 'react'
    import { Button } from "@dsds/react-radix-ui"

    function App() {
      const [count, setCount] = useState(0)

      return (
          <div className="flex flex-col justify-center items-center h-full w-full p-100">
            <Button onClick={() => setCount((count) => count + 1)}>
              count is {count}
            </Button>
          </div>
      )
    }

    export default App
    ```
  </TabsContent>
  <TabsContent value="basic-layout">
    ```tsx
    import { useState } from "react";
    import { Button, Lnb, Header } from "@dsds/react-radix-ui";

    function App() {
      const [count, setCount] = useState(0);

      return (
        <div className="flex h-screen w-full flex-col">
          <Header
            gnb={[
              {
                content: "기흥/화성",
                items: [
                  {
                    content: "기흥/화성",
                    value: "gh",
                  },
                  {
                    content: "평택",
                    value: "pt",
                  },
                ],
                type: "tenant",
              },
              {
                type: "divider",
              },
              {
                content: "대시보드",
                items: [
                  {
                    content: "메인 대시보드",
                    value: "main",
                  },
                  {
                    content: "분석 대시보드",
                    value: "analytics",
                  },
                ],
                type: "menu",
              },
            ]}
            logo="MyApp"
            size="cozy"
            theme="dark"
            utility={[
              {
                type: "searchbox",
              },
              {
                content: "알림",
                props: {
                  badge: true,
                },
                type: "button",
              },
              {
                content: "도움말",
                href: "/help",
                type: "link",
              },
              {
                type: "divider",
              },
              {
                props: {
                  alt: "User Avatar",
                  className: "w-8 h-8 rounded-full",
                  src: "https://github.com/shadcn.png",
                },
                type: "image",
              },
            ]}
          />
          <div className="flex flex-1 overflow-hidden">
            <Lnb
              defaultSelectedItemId="installation"
              data={{
                title: "문서",
                items: [
                  {
                    id: "getting-started",
                    content: "시작하기",
                    items: [
                      { id: "installation", content: "설치" },
                      { id: "quick-start", content: "빠른 시작" },
                      { id: "configuration", content: "설정" },
                    ],
                  },
                  {
                    id: "components",
                    content: "컴포넌트",
                    items: [
                      { id: "buttons", content: "버튼" },
                      { id: "forms", content: "폼" },
                      { id: "layout", content: "레이아웃" },
                    ],
                  },
                ],
              }}
            />
            <main className="scrollbar-thin flex-1 overflow-auto bg-gray-50">
              <div className="flex flex-col justify-center items-center h-full w-full p-4">
                <Button onClick={() => setCount((count) => count + 1)}>count is {count}</Button>
              </div>
            </main>
          </div>
        </div>
      );
    }

    export default App;
    ```
  </TabsContent>
</Tabs>